import{r as l,b as u,a as h,j as e,L as p}from"./index-Cclg67os.js";import{p as f}from"./api-BUuAVsLY.js";const b=()=>{const[a,c]=l.useState(""),[t,i]=l.useState(!1),[s,o]=l.useState(""),m=u(),n=h(),x=async r=>{r.preventDefault(),i(!0),o("");try{await f("/api/supplier/forgot-password",{data:{identifier:a}}),n.show("Password reset link sent!","success"),m("/reset-password-supplier",{state:{email:a}})}catch(d){o(d.message||"Failed to send reset link"),n.show(d.message||"Failed to send reset link","error")}finally{i(!1)}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-theme-bg px-2 py-8",role:"main",children:e.jsxs("div",{className:"theme-card w-full max-w-md p-8 sm:p-10 flex flex-col items-center",children:[e.jsx("h2",{className:"text-3xl font-extrabold text-center mb-2 tracking-tight text-theme-text",children:"Forgot Password"}),e.jsx("div",{className:"w-16 h-1 bg-gradient-to-r from-primary-500 to-primary-600 rounded-full mb-8"}),e.jsx("p",{className:"text-theme-text-secondary text-center mb-6",children:"Enter your email address and we'll send you a link to reset your password."}),e.jsxs("form",{onSubmit:x,className:"w-full flex flex-col gap-6","aria-busy":t,children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("label",{htmlFor:"email",className:"text-base font-medium text-theme-text",children:"Email Address"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-theme-text-muted","aria-hidden":"true",children:e.jsx("svg",{width:"20",height:"20",fill:"none",viewBox:"0 0 24 24",children:e.jsx("path",{stroke:"currentColor",strokeWidth:"2",d:"M3 6.75A2.75 2.75 0 0 1 5.75 4h12.5A2.75 2.75 0 0 1 21 6.75v10.5A2.75 2.75 0 0 1 18.25 20H5.75A2.75 2.75 0 0 1 3 17.25V6.75Zm0 0L12 13.25L21 6.75"})})}),e.jsx("input",{id:"email",type:"email",autoComplete:"email",required:!0,className:"theme-input w-full pl-10 pr-4 py-3 rounded-md text-base shadow-sm",placeholder:"Enter your email address",value:a,onChange:r=>c(r.target.value),disabled:t,"aria-invalid":!!s,"aria-describedby":s?"email-error":void 0})]}),s&&e.jsx("div",{id:"email-error",className:"text-red-500 text-sm mt-1",role:"alert",children:s})]}),e.jsxs("button",{type:"submit",disabled:t,"aria-label":"Send reset link",className:"theme-button w-full py-3 font-bold rounded-lg shadow-lg hover:scale-[1.02] hover:shadow-xl active:scale-95 transition-all duration-150 disabled:opacity-60 text-base mt-2 flex items-center justify-center gap-2",children:[t&&e.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]}),t?"Sending...":"Send Reset Link"]}),e.jsx("div",{className:"text-center",children:e.jsx(p,{to:"/login-supplier",className:"text-primary-600 hover:underline focus:outline-none focus:ring-2 focus:ring-primary-400 focus:ring-offset-2 rounded",children:"Back to Login"})})]})]})})};export{b as default};
