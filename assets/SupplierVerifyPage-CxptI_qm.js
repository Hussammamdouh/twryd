import{r as o,a as y,j as e,c as w,b as j}from"./index-BBFhNgLA.js";import{p}from"./api-BUuAVsLY.js";function v({onVerified:a,identifier:r}){const[t,n]=o.useState(r||""),[c,g]=o.useState(""),[d,f]=o.useState(!1),[u,m]=o.useState(!1),i=y(),h=async s=>{s.preventDefault(),f(!0);try{const l=t.includes("@")?"email":"phone",x=await p("/api/supplier/verify",{data:{contact:t,code:c,type:l}});if(x.success)i.show("Verification successful!","success"),a&&a();else throw new Error(x.message||"Verification failed")}catch(l){i.show(l.message,"error")}finally{f(!1)}},b=async()=>{m(!0);try{await p("/api/supplier/email/resend",{data:{email_or_phone:t}}),i.show("Verification code resent!","success")}catch(s){i.show(s.message,"error")}finally{m(!1)}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-[#e0e7ef] to-[#f5f5f5] px-2 py-8",children:e.jsxs("div",{className:"w-full max-w-md bg-white rounded-2xl shadow-2xl border border-gray-100 p-8 sm:p-10 flex flex-col items-center",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-extrabold text-center mb-2 tracking-tight text-gray-900",children:"Verify Your Supplier Account"}),e.jsx("div",{className:"w-20 h-1 bg-gradient-to-r from-[#0099FF] to-[#1E90FF] rounded-full mb-8"}),e.jsxs("form",{onSubmit:h,className:"w-full flex flex-col gap-6",children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("label",{htmlFor:"identifier",className:"text-base font-medium text-gray-700",children:"Email or Phone"}),e.jsx("input",{id:"identifier",type:"text",required:!0,className:"w-full bg-[#f7fafc] px-4 py-3 rounded-md border border-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-400 text-base placeholder-gray-400",placeholder:"Enter your email or phone",value:t,onChange:s=>n(s.target.value),disabled:!!r})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("label",{htmlFor:"code",className:"text-base font-medium text-gray-700",children:"Verification Code"}),e.jsx("input",{id:"code",type:"text",required:!0,className:"w-full bg-[#f7fafc] px-4 py-3 rounded-md border border-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-400 text-base placeholder-gray-400",placeholder:"Enter the code you received",value:c,onChange:s=>g(s.target.value)})]}),e.jsx("button",{type:"submit",disabled:d,className:"w-full py-3 font-bold text-white rounded-lg bg-gradient-to-r from-[#0099FF] to-[#1E90FF] shadow-lg hover:scale-[1.02] hover:shadow-xl active:scale-95 transition-all duration-150 disabled:opacity-60 text-base mt-2 flex items-center justify-center gap-2",children:d?"Verifying...":"Verify"})]}),e.jsx("button",{onClick:b,disabled:u||!t,className:"mt-6 text-blue-600 hover:underline disabled:opacity-60",children:u?"Resending...":"Resend Verification Code"})]})})}function F(){const a=w(),r=j(),t=a.state?.identifier||new URLSearchParams(a.search).get("identifier")||"",n=()=>{r("/login-supplier")};return e.jsx(v,{identifier:t,onVerified:n})}export{F as default};
