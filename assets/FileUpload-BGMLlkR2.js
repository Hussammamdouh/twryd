import{r as i,j as e}from"./index-Cclg67os.js";const I=({id:f,name:c,accept:s,required:b=!1,onChange:p,label:v,error:d,disabled:g=!1,multiple:L=!1,maxSize:h=5*1024*1024,className:M="",ariaInvalid:w,ariaDescribedby:D})=>{const[j,x]=i.useState(!1),[n,k]=i.useState(null),[m,a]=i.useState(""),l=i.useRef(null),y=t=>{const r=t[0];if(!r)return;if(r.size>h){a(`File size must be less than ${Math.round(h/1024/1024)}MB`);return}if(s&&!s.split(",").some(o=>{const u=o.trim();return u.startsWith(".")?r.name.toLowerCase().endsWith(u.toLowerCase()):r.type.match(new RegExp(u.replace("*",".*")))})){a(`Please select a valid file type: ${s}`);return}k(r),a(""),p({target:{name:c,files:[r],type:"file"}})},B=t=>{t.preventDefault(),x(!0)},C=t=>{t.preventDefault(),x(!1)},F=t=>{t.preventDefault(),x(!1),a("");const r=t.dataTransfer.files;r.length>0&&y(r)},E=()=>{l.current?.click()},W=t=>{const r=t.target.files;r.length>0&&y(r)},z=()=>{k(null),a(""),l.current&&(l.current.value=""),p({target:{name:c,files:[],type:"file"}})},$=t=>{if(t===0)return"0 Bytes";const r=1024,N=["Bytes","KB","MB","GB"],o=Math.floor(Math.log(t)/Math.log(r));return parseFloat((t/Math.pow(r,o)).toFixed(2))+" "+N[o]},R=t=>t.type.startsWith("image/")?e.jsx("svg",{className:"w-8 h-8 text-primary-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}):t.type==="application/pdf"?e.jsx("svg",{className:"w-8 h-8 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"})}):e.jsx("svg",{className:"w-8 h-8 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})});return e.jsxs("div",{className:`flex flex-col gap-2 ${M}`,children:[v&&e.jsx("label",{htmlFor:f,className:"text-base font-medium text-theme-text",children:v}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{ref:l,id:f,name:c,type:"file",accept:s,required:b,onChange:W,disabled:g,multiple:L,className:"hidden","aria-invalid":w,"aria-describedby":D}),e.jsx("div",{onClick:E,onDragOver:B,onDragLeave:C,onDrop:F,className:`
            relative border-2 border-dashed rounded-lg p-6 cursor-pointer transition-all duration-200
            ${j?"border-primary-500 bg-primary-50 dark:bg-primary-900/20":"border-theme-border hover:border-primary-400 hover:bg-theme-surface"}
            ${g?"opacity-50 cursor-not-allowed":""}
            ${d||m?"border-red-500 bg-red-50 dark:bg-red-900/20":""}
          `,children:n?e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"flex-shrink-0",children:R(n)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-theme-text truncate",children:n.name}),e.jsx("p",{className:"text-xs text-theme-text-muted",children:$(n.size)})]}),e.jsx("button",{type:"button",onClick:t=>{t.stopPropagation(),z()},className:"flex-shrink-0 p-1 text-theme-text-muted hover:text-red-500 transition-colors",title:"Remove file",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}):e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"mx-auto w-12 h-12 mb-4 flex items-center justify-center rounded-full bg-theme-surface",children:e.jsx("svg",{className:"w-6 h-6 text-theme-text-muted",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})})}),e.jsx("p",{className:"text-sm font-medium text-theme-text mb-1",children:j?"Drop your file here":"Click to upload or drag and drop"}),e.jsx("p",{className:"text-xs text-theme-text-muted",children:s?`Accepted formats: ${s}`:"All file types accepted"}),e.jsxs("p",{className:"text-xs text-theme-text-muted mt-1",children:["Max size: ",Math.round(h/1024/1024),"MB"]})]})}),(d||m)&&e.jsx("div",{className:"text-red-500 text-xs mt-1",role:"alert",children:d||m})]})]})};export{I as F};
